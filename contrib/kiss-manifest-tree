#!/bin/sh -ef
# Display all files owned by a package in a tree

# Ignore shellcheck as we want the warning's behavior.
# shellcheck disable=2015
[ "$1" ] && kiss l "${1:-null}" >/dev/null || {
    printf 'usage: kiss-manifest-tree [pkg]\n'
    exit 1
}

printf '%s\n' "[$1]:"
tree -C --fromfile "$KISS_ROOT/var/db/kiss/installed/$1/manifest" | tail -n +2
